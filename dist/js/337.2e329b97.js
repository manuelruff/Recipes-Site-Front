(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[337],{9337:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});s(9753),s(2222),s(7042);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("Search Page")]),t("nav",{staticClass:"navbar navbar-light bg-light"},[t("form",{staticClass:"form-inline w-100",on:{submit:function(t){return t.preventDefault(),e.onSearch.apply(null,arguments)}}},[t("div",{staticClass:"d-flex w-100"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"form-control flex-grow-1 mr-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),t("b-form-select",{staticClass:"form-control mr-2",staticStyle:{width:"auto"},attrs:{options:e.resultsOptions},model:{value:e.resultsPerPage,callback:function(t){e.resultsPerPage=t},expression:"resultsPerPage"}}),t("button",{staticClass:"btn btn-outline-success mr-2",attrs:{type:"submit"}},[e._v(" Search ")]),t("b-form-select",{staticClass:"form-control",staticStyle:{width:"auto"},attrs:{options:e.sortOptions},on:{change:e.onSortChange},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}})],1)])]),t("div",{staticClass:"main-content"},[t("div",{staticClass:"row results"},[e.results.length?t("div",{staticClass:"col-12 mt-4"},[t("RecipePreviewList",{ref:"recipeList",staticClass:"RandomRecipes center",attrs:{title:"Search Results",displayCount:e.resultsPerPage,recipes:e.results}})],1):t("div",{staticClass:"col-12 mt-4"},[t("p",[e._v("No results found")])])]),t("div",{staticClass:"filters"},[t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.diet-collapse",modifiers:{"diet-collapse":!0}}],staticClass:"text-custom",attrs:{variant:"link"}},[e._v("Diet")]),t("b-collapse",{attrs:{id:"diet-collapse"}},e._l(e.dietOptions,(function(s){return t("div",{key:s.value,staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedFilters.diet,expression:"selectedFilters.diet"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"diet-"+s.value},domProps:{value:s.value,checked:Array.isArray(e.selectedFilters.diet)?e._i(e.selectedFilters.diet,s.value)>-1:e.selectedFilters.diet},on:{change:function(t){var r=e.selectedFilters.diet,a=t.target,i=!!a.checked;if(Array.isArray(r)){var l=s.value,n=e._i(r,l);a.checked?n<0&&e.$set(e.selectedFilters,"diet",r.concat([l])):n>-1&&e.$set(e.selectedFilters,"diet",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.selectedFilters,"diet",i)}}}),t("label",{staticClass:"form-check-label text-custom",attrs:{for:"diet-"+s.value}},[e._v(e._s(s.text))])])})),0),t("div",{staticClass:"dropdown-divider"}),t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.cuisine-collapse",modifiers:{"cuisine-collapse":!0}}],staticClass:"text-custom",attrs:{variant:"link"}},[e._v("Cuisine")]),t("b-collapse",{attrs:{id:"cuisine-collapse"}},e._l(e.cuisineOptions,(function(s){return t("div",{key:s.value,staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedFilters.cuisine,expression:"selectedFilters.cuisine"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"cuisine-"+s.value},domProps:{value:s.value,checked:Array.isArray(e.selectedFilters.cuisine)?e._i(e.selectedFilters.cuisine,s.value)>-1:e.selectedFilters.cuisine},on:{change:function(t){var r=e.selectedFilters.cuisine,a=t.target,i=!!a.checked;if(Array.isArray(r)){var l=s.value,n=e._i(r,l);a.checked?n<0&&e.$set(e.selectedFilters,"cuisine",r.concat([l])):n>-1&&e.$set(e.selectedFilters,"cuisine",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.selectedFilters,"cuisine",i)}}}),t("label",{staticClass:"form-check-label text-custom",attrs:{for:"cuisine-"+s.value}},[e._v(e._s(s.text))])])})),0),t("div",{staticClass:"dropdown-divider"}),t("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.intolerances-collapse",modifiers:{"intolerances-collapse":!0}}],staticClass:"text-custom",attrs:{variant:"link"}},[e._v("Intolerances")]),t("b-collapse",{attrs:{id:"intolerances-collapse"}},e._l(e.intolerancesOptions,(function(s){return t("div",{key:s.value,staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedFilters.intolerances,expression:"selectedFilters.intolerances"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"intolerance-"+s.value},domProps:{value:s.value,checked:Array.isArray(e.selectedFilters.intolerances)?e._i(e.selectedFilters.intolerances,s.value)>-1:e.selectedFilters.intolerances},on:{change:function(t){var r=e.selectedFilters.intolerances,a=t.target,i=!!a.checked;if(Array.isArray(r)){var l=s.value,n=e._i(r,l);a.checked?n<0&&e.$set(e.selectedFilters,"intolerances",r.concat([l])):n>-1&&e.$set(e.selectedFilters,"intolerances",r.slice(0,n).concat(r.slice(n+1)))}else e.$set(e.selectedFilters,"intolerances",i)}}}),t("label",{staticClass:"form-check-label text-custom",attrs:{for:"intolerance-"+s.value}},[e._v(e._s(s.text))])])})),0)],1)])])},a=[],i=s(124),l=s(8534),n=(s(1058),s(8862),s(9600),s(2707),s(7153)),o=s(8327),c=[{value:"African",text:"African"},{value:"Asian",text:"Asian"},{value:"American",text:"American"},{value:"British",text:"British"},{value:"Cajun",text:"Cajun"},{value:"Caribbean",text:"Caribbean"},{value:"Chinese",text:"Chinese"},{value:"Eastern European",text:"Eastern European"},{value:"European",text:"European"},{value:"French",text:"French"},{value:"German",text:"German"},{value:"Greek",text:"Greek"},{value:"Indian",text:"Indian"},{value:"Irish",text:"Irish"},{value:"Italian",text:"Italian"},{value:"Japanese",text:"Japanese"},{value:"Jewish",text:"Jewish"},{value:"Korean",text:"Korean"},{value:"Latin American",text:"Latin American"},{value:"Mediterranean",text:"Mediterranean"},{value:"Mexican",text:"Mexican"},{value:"Middle Eastern",text:"Middle Eastern"},{value:"Nordic",text:"Nordic"},{value:"Southern",text:"Southern"},{value:"Spanish",text:"Spanish"},{value:"Thai",text:"Thai"},{value:"Vietnamese",text:"Vietnamese"}],u=[{value:"Gluten Free",text:"Gluten Free"},{value:"Ketogenic",text:"Ketogenic"},{value:"Vegetarian",text:"Vegetarian"},{value:"Lacto-Vegetarian",text:"Lacto-Vegetarian"},{value:"Ovo-Vegetarian",text:"Ovo-Vegetarian"},{value:"Vegan",text:"Vegan"},{value:"Pescetarian",text:"Pescetarian"},{value:"Paleo",text:"Paleo"},{value:"Primal",text:"Primal"},{value:"Low FODMAP",text:"Low FODMAP"},{value:"Whole30",text:"Whole30"}],v=[{value:"Dairy",text:"Dairy"},{value:"Egg",text:"Egg"},{value:"Gluten",text:"Gluten"},{value:"Grain",text:"Grain"},{value:"Peanut",text:"Peanut"},{value:"Seafood",text:"Seafood"},{value:"Sesame",text:"Sesame"},{value:"Shellfish",text:"Shellfish"},{value:"Soy",text:"Soy"},{value:"Sulfite",text:"Sulfite"},{value:"Tree Nut",text:"Tree Nut"},{value:"Wheat",text:"Wheat"}];const d={name:"SearchPage",components:{RecipePreviewList:n.Z},data:function(){return{query:"",results:[],resultsPerPage:5,sortBy:"likes",selectedFilters:{diet:[],cuisine:[],intolerances:[]},resultsOptions:[5,10,15],dietOptions:u,cuisineOptions:c,intolerancesOptions:v,sortOptions:[{value:"likes",text:"Likes"},{value:"time",text:"Time"}]}},created:function(){this.loadState()},methods:{loadState:function(){var e=sessionStorage.getItem("searchQuery"),t=sessionStorage.getItem("searchResults"),s=sessionStorage.getItem("resultsPerPage"),r=sessionStorage.getItem("sortBy"),a=sessionStorage.getItem("selectedFilters");e&&(this.query=e),t&&(this.results=JSON.parse(t)),s&&(this.resultsPerPage=parseInt(s)),r&&(this.sortBy=r),a&&(this.selectedFilters=JSON.parse(a))},saveState:function(){sessionStorage.setItem("searchQuery",this.query),sessionStorage.setItem("searchResults",JSON.stringify(this.results)),sessionStorage.setItem("resultsPerPage",this.resultsPerPage),sessionStorage.setItem("sortBy",this.sortBy),sessionStorage.setItem("selectedFilters",JSON.stringify(this.selectedFilters))},onSearch:function(){var e=this;return(0,l.Z)((0,i.Z)().mark((function t(){var s,r,a,l;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s=e.resultsPerPage,r=e.selectedFilters.diet.join(","),a=e.selectedFilters.cuisine.join(","),l=e.selectedFilters.intolerances.join(","),console.log("Query:",e.query),console.log("Results Per Page:",e.resultsPerPage),console.log("Diet:",r),console.log("Cuisine:",a),console.log("Intolerances:",l),console.log("searching..."),t.next=13,(0,o.on)(e.query,s,r,a,l).then((function(t){console.log("Fetched recipes:",t),e.results=t,console.log(e.results),e.sortResults(),e.saveState()}))["catch"]((function(t){e.results=[],console.error("Error fetching recipes:",t)}));case 13:t.sent,t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](0),console.log("errororrorororororor"),console.error("Unexpected error:",t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))()},onSortChange:function(){console.log("Sort option changed:",this.sortBy),this.sortResults(),this.saveState()},sortResults:function(){"likes"===this.sortBy?this.results.sort((function(e,t){return t.aggregateLikes-e.aggregateLikes})):"time"===this.sortBy&&this.results.sort((function(e,t){return e.readyInMinutes-t.readyInMinutes}))}},watch:{selectedFilters:{handler:function(){this.saveState()},deep:!0}}},h=d;var f=s(1001),g=(0,f.Z)(h,r,a,!1,null,"3fc31252",null);const p=g.exports},4362:(e,t,s)=>{var r=s(1589),a=Math.floor,i=function(e,t){var s=e.length,o=a(s/2);return s<8?l(e,t):n(e,i(r(e,0,o),t),i(r(e,o),t),t)},l=function(e,t){var s,r,a=e.length,i=1;while(i<a){r=i,s=e[i];while(r&&t(e[r-1],s)>0)e[r]=e[--r];r!==i++&&(e[r]=s)}return e},n=function(e,t,s,r){var a=t.length,i=s.length,l=0,n=0;while(l<a||n<i)e[l+n]=l<a&&n<i?r(t[l],s[n])<=0?t[l++]:s[n++]:l<a?t[l++]:s[n++];return e};e.exports=i},8886:(e,t,s)=>{var r=s(8113),a=r.match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},256:(e,t,s)=>{var r=s(8113);e.exports=/MSIE|Trident/.test(r)},8008:(e,t,s)=>{var r=s(8113),a=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},2222:(e,t,s)=>{"use strict";var r=s(2109),a=s(7293),i=s(3157),l=s(111),n=s(7908),o=s(6244),c=s(7207),u=s(6135),v=s(5417),d=s(1194),h=s(5112),f=s(7392),g=h("isConcatSpreadable"),p=f>=51||!a((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),m=function(e){if(!l(e))return!1;var t=e[g];return void 0!==t?!!t:i(e)},x=!p||!d("concat");r({target:"Array",proto:!0,arity:1,forced:x},{concat:function(e){var t,s,r,a,i,l=n(this),d=v(l,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?l:arguments[t],m(i))for(a=o(i),c(h+a),s=0;s<a;s++,h++)s in i&&u(d,h,i[s]);else c(h+1),u(d,h++,i);return d.length=h,d}})},9600:(e,t,s)=>{"use strict";var r=s(2109),a=s(1702),i=s(8361),l=s(5656),n=s(9341),o=a([].join),c=i!=Object,u=c||!n("join",",");r({target:"Array",proto:!0,forced:u},{join:function(e){return o(l(this),void 0===e?",":e)}})},2707:(e,t,s)=>{"use strict";var r=s(2109),a=s(1702),i=s(9662),l=s(7908),n=s(6244),o=s(5117),c=s(1340),u=s(7293),v=s(4362),d=s(9341),h=s(8886),f=s(256),g=s(7392),p=s(8008),m=[],x=a(m.sort),y=a(m.push),S=u((function(){m.sort(void 0)})),b=u((function(){m.sort(null)})),k=d("sort"),C=!u((function(){if(g)return g<70;if(!(h&&h>3)){if(f)return!0;if(p)return p<603;var e,t,s,r,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:s=3;break;case 68:case 71:s=4;break;default:s=2}for(r=0;r<47;r++)m.push({k:t+r,v:s})}for(m.sort((function(e,t){return t.v-e.v})),r=0;r<m.length;r++)t=m[r].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}})),F=S||!b||!k||!C,P=function(e){return function(t,s){return void 0===s?-1:void 0===t?1:void 0!==e?+e(t,s)||0:c(t)>c(s)?1:-1}};r({target:"Array",proto:!0,forced:F},{sort:function(e){void 0!==e&&i(e);var t=l(this);if(C)return void 0===e?x(t):x(t,e);var s,r,a=[],c=n(t);for(r=0;r<c;r++)r in t&&y(a,t[r]);v(a,P(e)),s=n(a),r=0;while(r<s)t[r]=a[r++];while(r<c)o(t,r++);return t}})}}]);
//# sourceMappingURL=337.2e329b97.js.map